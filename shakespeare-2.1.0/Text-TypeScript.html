<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Text.TypeScript</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">shakespeare-2.1.0: A toolkit for making compile-time interpolated templates</span><ul class="links" id="page-menu"><li><a href="src/Text.TypeScript.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Text.TypeScript</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Functions</a><ul><li><a href="#g:2">Template-Reading Functions</a></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A Shakespearean module for TypeScript, introducing type-safe,
 compile-time variable and url interpolation. It is exactly the same as
 <a href="Text-Julius.html">Text.Julius</a>, except that the template is first compiled to Javascript with
 the system tool <code>tsc</code>.</p><p>To use this module, <code>tsc</code> must be installed on your system.</p><p>If you interpolate variables,
 the template is first wrapped with a function containing javascript variables representing shakespeare variables,
 then compiled with <code>tsc</code>,
 and then the value of the variables are applied to the function.
 This means that in production the template can be compiled
 once at compile time and there will be no dependency in your production
 system on <code>tsc</code>. </p><p>Your code:</p><pre>var b = 1
console.log(#{a} + b)</pre><p>Final Result:</p><pre>;(function(shakespeare_var_a){
  var b = 1;
  console.log(shakespeare_var_a + b);
})(#{a});</pre><p>Important Warnings! This integration is not ideal.</p><p>Due to the function wrapper, all type declarations must be in separate .d.ts files.
 However, if you don't interpolate variables, no function wrapper will be
 created, and you can make type declarations in the same file.</p><p>This does not work cross-platform!</p><p>Unfortunately tsc does not support stdin and stdout.
 So a hack of writing to temporary files using the mktemp
 command is used. This works on my version of Linux, but not for windows
 unless perhaps you install a mktemp utility, which I have not tested.
 Please vote up this bug: <a href="http://typescript.codeplex.com/workitem/600">http://typescript.codeplex.com/workitem/600</a></p><p>Making this work on Windows would not be very difficult, it will just require a new
 package with a dependency on a package like temporary.</p><p>Further reading:</p><ol><li value="1">Shakespearean templates: <a href="https://www.yesodweb.com/book/shakespearean-templates">https://www.yesodweb.com/book/shakespearean-templates</a></li><li value="2">TypeScript: <a href="https://www.typescriptlang.org/">https://www.typescriptlang.org/</a></li></ol></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:tsc">tsc</a> :: <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter" title="Language.Haskell.TH.Quote">QuasiQuoter</a></li><li class="src short"><a href="#v:tscJSX">tscJSX</a> :: <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter" title="Language.Haskell.TH.Quote">QuasiQuoter</a></li><li class="src short"><a href="#v:typeScriptFile">typeScriptFile</a> :: <a href="../base-4.17.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a></li><li class="src short"><a href="#v:typeScriptJSXFile">typeScriptJSXFile</a> :: <a href="../base-4.17.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a></li><li class="src short"><a href="#v:typeScriptFileReload">typeScriptFileReload</a> :: <a href="../base-4.17.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a></li><li class="src short"><a href="#v:typeScriptJSXFileReload">typeScriptJSXFileReload</a> :: <a href="../base-4.17.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Functions</h1></a><a href="#g:2" id="g:2"><h2>Template-Reading Functions</h2></a><div class="doc"><p>These QuasiQuoter and Template Haskell methods return values of
 type <code><code><a href="Text-Julius.html#t:JavascriptUrl" title="Text.Julius">JavascriptUrl</a></code> url</code>. See the Yesod book for details.</p></div><div class="top"><p class="src"><a id="v:tsc" class="def">tsc</a> :: <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter" title="Language.Haskell.TH.Quote">QuasiQuoter</a> <a href="src/Text.TypeScript.html#tsc" class="link">Source</a> <a href="#v:tsc" class="selflink">#</a></p><div class="doc"><p>Read inline, quasiquoted TypeScript</p></div></div><div class="top"><p class="src"><a id="v:tscJSX" class="def">tscJSX</a> :: <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter" title="Language.Haskell.TH.Quote">QuasiQuoter</a> <a href="src/Text.TypeScript.html#tscJSX" class="link">Source</a> <a href="#v:tscJSX" class="selflink">#</a></p><div class="doc"><p>Read inline, quasiquoted TypeScript with jsx</p></div></div><div class="top"><p class="src"><a id="v:typeScriptFile" class="def">typeScriptFile</a> :: <a href="../base-4.17.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a> <a href="src/Text.TypeScript.html#typeScriptFile" class="link">Source</a> <a href="#v:typeScriptFile" class="selflink">#</a></p><div class="doc"><p>Read in a TypeScript template file. This function reads the file once, at
 compile time.</p></div></div><div class="top"><p class="src"><a id="v:typeScriptJSXFile" class="def">typeScriptJSXFile</a> :: <a href="../base-4.17.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a> <a href="src/Text.TypeScript.html#typeScriptJSXFile" class="link">Source</a> <a href="#v:typeScriptJSXFile" class="selflink">#</a></p><div class="doc"><p>Read in a TypeScript template file with jsx. This function reads the file
 once, at compile time.</p></div></div><div class="top"><p class="src"><a id="v:typeScriptFileReload" class="def">typeScriptFileReload</a> :: <a href="../base-4.17.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a> <a href="src/Text.TypeScript.html#typeScriptFileReload" class="link">Source</a> <a href="#v:typeScriptFileReload" class="selflink">#</a></p><div class="doc"><p>Read in a TypeScript template file. This impure function uses
 unsafePerformIO to re-read the file on every call, allowing for rapid
 iteration.</p></div></div><div class="top"><p class="src"><a id="v:typeScriptJSXFileReload" class="def">typeScriptJSXFileReload</a> :: <a href="../base-4.17.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a> <a href="src/Text.TypeScript.html#typeScriptJSXFileReload" class="link">Source</a> <a href="#v:typeScriptJSXFileReload" class="selflink">#</a></p><div class="doc"><p>Read in a TypeScript with jsx template file. This impure function uses
 unsafePerformIO to re-read the file on every call, allowing for rapid
 iteration.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.27.0</p></div></body></html>