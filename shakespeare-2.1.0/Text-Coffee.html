<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Text.Coffee</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">shakespeare-2.1.0: A toolkit for making compile-time interpolated templates</span><ul class="links" id="page-menu"><li><a href="src/Text.Coffee.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Text.Coffee</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Functions</a><ul><li><a href="#g:2">Template-Reading Functions</a></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A Shakespearean module for CoffeeScript, introducing type-safe,
 compile-time variable and url interpolation. It is exactly the same as
 <a href="Text-Julius.html">Text.Julius</a>, except that the template is first compiled to Javascript with
 the system tool <code>coffee</code>.</p><p>To use this module, <code>coffee</code> must be installed on your system.</p><p><code>#{...}</code> is the Shakespearean standard for variable interpolation, but
 CoffeeScript already uses that sequence for string interpolation. Therefore,
 Shakespearean interpolation is introduced with <code>%{...}</code>.</p><p>If you interpolate variables,
 the template is first wrapped with a function containing javascript variables representing shakespeare variables,
 then compiled with <code>coffee</code>,
 and then the value of the variables are applied to the function.
 This means that in production the template can be compiled
 once at compile time and there will be no dependency in your production
 system on <code>coffee</code>. </p><p>Your code:</p><pre>  b = 1
  console.log(#{a} + b)</pre><p>Function wrapper added to your coffeescript code:</p><pre>((shakespeare_var_a) =&gt;
  b = 1
  console.log(shakespeare_var_a + b)
)</pre><p>This is then compiled down to javascript, and the variables are applied:</p><pre>;(function(shakespeare_var_a){
  var b = 1;
  console.log(shakespeare_var_a + b);
})(#{a});</pre><p>Further reading:</p><ol><li value="1">Shakespearean templates: <a href="https://www.yesodweb.com/book/shakespearean-templates">https://www.yesodweb.com/book/shakespearean-templates</a></li><li value="2">CoffeeScript: <a href="http://coffeescript.org/">http://coffeescript.org/</a></li></ol></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:coffee">coffee</a> :: <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter" title="Language.Haskell.TH.Quote">QuasiQuoter</a></li><li class="src short"><a href="#v:coffeeFile">coffeeFile</a> :: <a href="../base-4.17.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a></li><li class="src short"><a href="#v:coffeeFileReload">coffeeFileReload</a> :: <a href="../base-4.17.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a></li><li class="src short"><a href="#v:coffeeFileDebug">coffeeFileDebug</a> :: <a href="../base-4.17.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Functions</h1></a><a href="#g:2" id="g:2"><h2>Template-Reading Functions</h2></a><div class="doc"><p>These QuasiQuoter and Template Haskell methods return values of
 type <code><code><a href="Text-Julius.html#t:JavascriptUrl" title="Text.Julius">JavascriptUrl</a></code> url</code>. See the Yesod book for details.</p></div><div class="top"><p class="src"><a id="v:coffee" class="def">coffee</a> :: <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter" title="Language.Haskell.TH.Quote">QuasiQuoter</a> <a href="src/Text.Coffee.html#coffee" class="link">Source</a> <a href="#v:coffee" class="selflink">#</a></p><div class="doc"><p>Read inline, quasiquoted CoffeeScript.</p></div></div><div class="top"><p class="src"><a id="v:coffeeFile" class="def">coffeeFile</a> :: <a href="../base-4.17.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a> <a href="src/Text.Coffee.html#coffeeFile" class="link">Source</a> <a href="#v:coffeeFile" class="selflink">#</a></p><div class="doc"><p>Read in a CoffeeScript template file. This function reads the file once, at
 compile time.</p></div></div><div class="top"><p class="src"><a id="v:coffeeFileReload" class="def">coffeeFileReload</a> :: <a href="../base-4.17.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a> <a href="src/Text.Coffee.html#coffeeFileReload" class="link">Source</a> <a href="#v:coffeeFileReload" class="selflink">#</a></p><div class="doc"><p>Read in a CoffeeScript template file. This impure function uses
 unsafePerformIO to re-read the file on every call, allowing for rapid
 iteration.</p></div></div><div class="top"><p class="src"><a id="v:coffeeFileDebug" class="def">coffeeFileDebug</a> :: <a href="../base-4.17.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.19.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a> <a href="src/Text.Coffee.html#coffeeFileDebug" class="link">Source</a> <a href="#v:coffeeFileDebug" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: Please use coffeeFileReload instead.</p></div><p>Deprecated synonym for <code><a href="Text-Coffee.html#v:coffeeFileReload" title="Text.Coffee">coffeeFileReload</a></code></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.27.0</p></div></body></html>