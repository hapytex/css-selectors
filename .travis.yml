sudo: false
os:
- linux
language: haskell
cache:
  directories:
  - "$HOME/.stack"
before_install:
- mkdir -p ~/.local/bin
- export PATH=$HOME/.local/bin:$PATH
- travis_retry curl -L https://get.haskellstack.org/stable/linux-x86_64.tar.gz | tar xz --wildcards --strip-components=1 -C ~/.local/bin '*/stack'
install:
- stack build
- stack haddock
script:
- stack --no-terminal --skip-ghc-check test
- curl -sSL https://raw.github.com/ndmitchell/hlint/master/misc/run.sh | sh -s .
deploy:
- provider: pages
  local_dir: "$(stack path --local-doc-root)"
  skip_cleanup: true
  github_token: "$GITHUB_TOKEN"
  keep_history: true
  on:
    branch: master
- provider: hackage
  username: "$HACKAGE_USER"
  password: "$HACKAGE_PASSWORD"
  on:
    branch: master
env:
  global:
  - secure: GN2811VRE19kGS/BfDr0dVZTfClqzNmJX63G11qeKsLN95tzOt/NqFwIp6xRtJ/VHDJPtsZYc061+tagVZ5ZzH+XXhM4oPAknlub47pf4amW+Oeid6dJNQyzEFd07SXUJEvafCtLvOXLKIwQDFRY0y5Sd7ScxjY6O2ilqU5ArmLEF6ts38vViuFuyxYpuxKhMjig2aLPcyoa8auhkVMXP8kkjlYM54bP7cOZoJbZ0AJcjEMlmd5Bk6WYwg1XtovRgtg+ULi64IjrxYZXzdoJsmRlT4jB3Hx4XdnmD+OcEBDLSpOdFmyfQlNCwod64lfw6nj3kmPQsKH6cQz0YuWbbdOEsdaO02ci4HAPSZYSAKP+lEHO2LPFR+nCQygDl/CQre8Txy+dLLkAnHRcnrMcYgPCDJO4gcAAEqQ2IWMMeITm8y47ROLAwoJanJGydfUu8ZRzgdSLWsr7fK5EYfqF4kcZ13y083axnBWFFAEZb3zlMm4zNz3mifortKs5Dg5Zjgxs7Avj0bcq5IVAd+TuX8KwnS5cE+kqFcNQ8ToRICI7tHo2e+XmGSGDdC0z64ztnL6e53vdkFc4xXLz/exjnJ0XRGooB7GRhsUQDAqemdW+SDco0BgaWj0uBwRVbiMmJLmJngvCMlqoXuwdqDzyAa5mghNTQ3ipRV9NDRpOaHM=
  - secure: p+S7+gdVkPSoLZV+tIRaHRo9N2eIO/wdQtg6OATTjogu+rB82vnxyn8ITZh40lWhkhqHPzW7xU04A+Rq33AduHT//pdHpYzKN8RSiYXfYP+0jp718KQhIoWkoptmbgOu5hs5TDoQ/TQnFeQt3OVEAGwzD1oAD1I1D6f3VbG4zh+GjgvpYngzjksS6SQp4sp6iZsY4u+DQvhGrf7mEU2qxt5s9ukKYbuy+trHmyk0l5ZiDH7hQy3sAm3ibtJ3OvqffXL4P0bgRboxOuHXoIDEeQiFGZf9lyLJFcmReOBVIpmree3tZowen17Qu/PoM3MB515kkyJhSHR6sok8S8QDy6j4PoZNxpNYh9Wa2AF1sscdWiZam+37MReJOVxmqFs+K4UDqeHhptgIai4H8d52Y4x6H3OL+YvgiUvhDCqImXpx0C+EK4tnDi3Yg6TRtoFu3VNo9D63S4UmAD0RZZa4hdyaXCmF6eq6peMPdgsnTx/T89ja7nHEA+CEo4k5Bg5O7oI8q3sFg/LDSx5Zx4rwpJC+XxMSUtOx0zF8YeF2onRxxqK22Crfr4HNKLngH8k5yEUs1CkZeHptOQwu8DIoS8bpqsIHdCM+GABGxKUQL0tPiYs29CaoxwVwEBYBS17nRSu2iDXPjzxsXYRR2gQ3nl8oThrlo17NrT9GIZcySJU=
  - secure: Gh5oFw1L+zHLXTUu4wgegjTZi5FSC3YWOKG8PsRP/wGzVkiKGHiBVX679gHRpjYWSWtkmMuGg2fbB/HMH/D7CCkax/MV8WOPMPRWd3iVnviiynO/jrXLlmTp/JYTA7srBIDyh92jvZDcjzHsJRxmurCfNGi9Gnm0Xsbq/I3W19dfOJmIdZHbL3eMdAL7HDGuLmiCmjrJm6wWLoDExxGT44PR7khHqhb5kmP+k3/Ypc/MRi0PDwF1Uj79IzoC/l1M+i8e0SoYChYfgIWldyOR3LXxmp+Bqpxa9d8k26pFCZgTfe4BL4bTV8VOPUC9QBi8ebA0jJKPHeq0OiYMEtj6CordxgQP13+JuF3hiESPoCIG9zPOjfhgYP0agwyhoV0VlVP1Dla5eqKIW7LVIXyGf+FXcj8iORuQlbs2N1cykbFPlFlCryoeJSCiu8thbHltH3mFyDoe95fMEP2c1jhon7ly/Dk+5gx41JXPua6FqAGP9rMhTunP8MCk0IhFJRBoe/sp7DiYmGGZp6Rj9BOug94N8n7HNTnpaF6WY2j+4AZlb1pj3jIGkntt+lSo/G/WF0rPTbWfXy7LmtkiCpqCcYtMA9fTJV63rxt9LzedTNWJSGm7LSutl3LtebM5xoqBjoEFJmRZ9XUS4D1FmStHn1E+rnk1Sbcch1TQ0K+owsc=
